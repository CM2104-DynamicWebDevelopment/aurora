<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora</title>

    <!-- CSS Stylesheets, Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css?family=Hind|Montserrat:300,400,600&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/59dd3e37d5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/backgrounds/index-mob.css">
    <!--Leaflet map css files-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <!-- JS Scripts and jQuery -->
    <script src="js/vendor/jquery-1.11.2.min.js"></script>
    <script src="js/main.js"></script>
    <!--Leaflet map script (edit note: must be included after the leaflet css)-->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
</head>

<body>

    <header>
        <!-- Default Header -->
        <nav class="icon">
            <div class="flex-container">
                <a id="title" href="#">
                    <h1>AURORA</h1>
                </a>
                <i class="fas fa-bars"></i>
            </div>
        </nav>

        <!-- Hamburger Menu -->
        <nav id="menu">
            <div class="flex-container">
                <h1>Menu</h1>
                <i class="fas fa-times"></i>
            </div>
            <div class="flex-column">
                <a href="index.html">
                    <h2>Home</h2>
                </a>
                <a href="login.html">
                    <h2>Log In</h2>
                </a>
                <a href="settings.html">
                    <h2>Settings</h2>
                </a>
                <a href="profile.html">
                    <h2>Profile</h2>
                </a>
            </div>
        </nav>
    </header>
    <main>
        <section id="welcome">
            <h2>Follow the Northern Lights</h2>

            <!-- Aurora Map -->
            <div id="map">
                <!--leaflet map-->
                <div id="mapid"></div>
                <!--call map script-->
                <script src="js/map.js"></script>

            </div>

            <!-- Weather Forecast -->
            <div id="weather" class="flex-container flex-center">
                <div class="notification"> </div>
                <div class="weather-container">
                    <h4 class="black text-center">Weather Forecast</h4>
                    <div class="weather-icon">
                        <img src="img/weather-icons/unknown.png" alt="">
                    </div>
                    <div class="temperature">
                        <p>- °<span>C</span></p>
                    </div>
                    <div class="temperature-description">
                        <p> - </p>
                    </div>
                    <div class="weather-location">
                        <p>-</p>
                    </div>
                </div>
            </div>

            <!-- Aurora Status -->
            <div id="aurora_status">
                <script>
                    //link to aurora watch status
                    var mobile_content = '<iframe id ="status-frame" scrolling="no" allowtransparency="true" src="http://aurorawatch.lancs.ac.uk/external/status_text"></iframe>';
                    //link to aurora watch status and solar activity plots
                    var other_devices = '<iframe scrolling="no" allowtransparency="true" src="http://aurorawatch.lancs.ac.uk/external/rolling_status_text"</iframe>';

                    //function to load an appriopriate content
                    function loadStatus() {
                        //on mobile devices display only the aurora watch uk alert status
                        if (screen.width < 450) {
                            document.getElementById('aurora_status').innerHTML = mobile_content;

                        }
                        //on bigger screens display the plots provided by aurora watch uk
                        else {
                            document.getElementById('aurora_status').innerHTML = other_devices;
                        }
                    }
                    loadStatus();

                    //detect change of the screen size and reload the appropriate element
                    window.addEventListener('resize', loadStatus);

                </script>
            </div>
        </section>

        <!-- Text about project and tips for seeing Aurora -->
        <section id="about-us">
            <h3>ABOUT US</h3>
            <div id="about-us-text">
                <p>
                  Aurora is a web application that helps to find the best locations for observing the Aurora Borealis in Aberdeen and in Aberdeenshire region. It provides a map for tagging locations where Aurora has been seen.
                The weather forecast data is provided by the OpenWeatherMap API. Aurora web app detects the user’s geolocation pull weather forecast data from the API.
                </p>
            </div>
        </section>

        <section id="tips">
            <h3>TIPS</h3>
            <div id="tips-text">
                <p class="tips-parag"><b>Time of the year:</b><br>  
                    Aurora phenomenon is visible between late August and early April. Months from November to February are a great time to witness the aurora light shows.
                </p>
                <p class="tips-parag"><b>Aurora forecast</b><br>
                    Natural occurrence of the aurora depends on the collision of solar wind and gaseous particles of the Earth’s atmosphere. High geomagnetic activity on the aurora forecast indicates, there is a good chance to see the aurora on that given day/time.
                </p>
                <p class="tips-parag"><b>Weather</b><br>
                    Carefully check the weather forecast before going out for aurora hunting. Cloudy and rainy weather forecast minimises the chances of seeing the aurora. The clear night sky offers the best probability of experiencing the aurora.
                </p>
                <p class="tips-parag"><b>Location</b><br>
                    Aurora occurs near the magnetic poles of the Earth.
                    Check the locations tagged on the map. The locations with the most tags are the best spots to see aurora displays.
                </p>
                <p class="tips-parag"><b>Light Pollution</b><br>
                    Light pollution from the city streets and buildings will make it difficult to fully experience the aurora. The best places to see the aurora are usually away from the city lights. 
                    Additionally, the light from a full moon also causes problems as it brightens up the skies. Therefore, the timing of the outing is important too.
                </p> 
            </div>
        </section>
    </main>
    <script src="js/weather.js"></script>
</body>

</html>
